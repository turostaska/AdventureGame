<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.0.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.0.xsd">
    <changeSet author="gyakornok (generated)" id="1596436004499-2">
        <createTable tableName="ACTION">
            <column name="TYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7"/>
            </column>
            <column name="TIME_TO_FINISH_IN_SECONDS" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="DIFFICULTY" type="INT"/>
            <column name="ATTACKER_WON" type="BOOLEAN"/>
            <column name="RANK" type="INT"/>
            <column name="REWARD" type="INT"/>
            <column name="COST" type="INT"/>
            <column name="OPPONENT_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-3">
        <createTable tableName="ACTION_TECHNIQUE_REWARDS">
            <column name="ADVENTURE_ACTION_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="TECHNIQUE_REWARDS_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-4">
        <createTable tableName="ACTION_TOOL_REWARDS">
            <column name="ADVENTURE_ACTION_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="TOOL_REWARDS_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-5">
        <createTable tableName="BUYABLE">
            <column name="DTYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_3"/>
            </column>
            <column name="COST_TO_BUY" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="DAMAGE" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="HEALING_AMOUNT" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="VARCHAR(255)"/>
            <column name="MAX_QUANTITY" type="INT"/>
            <column name="COST_TO_CAST" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-6">
        <createTable tableName="CHARPLAYER">
            <column name="DTYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_35"/>
            </column>
            <column name="CURRENTHP" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="CURRENT_MANA" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="MAXHP" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="MAX_MANA" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="MONEY" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="VARCHAR(255)"/>
            <column name="STRENGTH" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="USER_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-7">
        <createTable tableName="CHARPLAYER_ACTION_QUEUE">
            <column name="PLAYER_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ACTION_QUEUE_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-8">
        <createTable tableName="CHARPLAYER_KNOWN_TECHNIQUES">
            <column name="CHARACTER_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="KNOWN_TECHNIQUES_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-9">
        <createTable tableName="INVENTORY">
            <column name="CHARACTER_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_2"/>
            </column>
            <column name="TOOLS" type="INT"/>
            <column name="TOOLS_KEY" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_2"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-10">
        <createTable tableName="SCHEDULED_TASK">
            <column name="DTYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_A"/>
            </column>
            <column name="ESTIMATED_TIME_OF_FINISHING" type="TIMESTAMP"/>
            <column name="ACTION_ID" type="BIGINT"/>
            <column name="PLAYER_ID" type="BIGINT"/>
            <column name="STATEFUL_ACTION_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-11">
        <createTable tableName="REGISTEREDUSER">
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_27"/>
            </column>
            <column name="EMAIL" type="VARCHAR(255)"/>
            <column name="PASSWORD" type="VARCHAR(255)"/>
            <column name="USER_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-12">
        <addUniqueConstraint columnNames="ACTION_QUEUE_ID" constraintName="UK_CW5A1XITKY1M2HPKP2C5SVW8T" tableName="CHARPLAYER_ACTION_QUEUE"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-13">
        <createIndex indexName="FK28WJ9QXEPG9S2777OS1KRCJK6_I3" tableName="CHARPLAYER">
            <column name="USER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-14">
        <createIndex indexName="FK46SCWSCCMOVUJ078BE2M365VA_IB" tableName="CHARPLAYER_ACTION_QUEUE">
            <column name="PLAYER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-15">
        <createIndex indexName="FK48I6J92SU1GWUCY5DWCGI7STH_I2" tableName="INVENTORY">
            <column name="CHARACTER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-16">
        <createIndex indexName="FK5MR5WTDFNKWDEI7KU4I2WBFKR_I8" tableName="ACTION_TECHNIQUE_REWARDS">
            <column name="TECHNIQUE_REWARDS_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-17">
        <createIndex indexName="FK8891CTHXODYNLOVFRUMT7KTPH_I5" tableName="ACTION_TOOL_REWARDS">
            <column name="TOOL_REWARDS_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-18">
        <createIndex indexName="FK9MAPB6YKQBSUR2IJ92T7V3GM9_IA" tableName="SCHEDULED_TASK">
            <column name="PLAYER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-19">
        <createIndex indexName="FKAGQDGBRKBWV013SMEL7OGW3ME_I5" tableName="ACTION_TOOL_REWARDS">
            <column name="ADVENTURE_ACTION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-20">
        <createIndex indexName="FKBM7X8G4UDV83YN9PMKPJ3M3ST_IA" tableName="SCHEDULED_TASK">
            <column name="ACTION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-21">
        <createIndex indexName="FKBXBWGGEIE64UYV99QFDYCKNAD_IB" tableName="CHARPLAYER_KNOWN_TECHNIQUES">
            <column name="KNOWN_TECHNIQUES_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-22">
        <createIndex indexName="FKH4GB4O96A634E0U5NWFO33GJQ_I7" tableName="ACTION">
            <column name="OPPONENT_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-23">
        <createIndex indexName="FKIFCUT4WUP8RFOCGRTTX1BM6A4_I2" tableName="INVENTORY">
            <column name="TOOLS_KEY"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-24">
        <createIndex indexName="FKNF7GX6QNG2NRXM0BP1IUVGCMW_IA" tableName="SCHEDULED_TASK">
            <column name="STATEFUL_ACTION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-25">
        <createIndex indexName="FKNWB7UKTQCPIXYP7J0WURTGUXY_IB" tableName="CHARPLAYER_KNOWN_TECHNIQUES">
            <column name="CHARACTER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-26">
        <createIndex indexName="FKRMUF2OV0VK95Q9AARJYKLFSQG_I8" tableName="ACTION_TECHNIQUE_REWARDS">
            <column name="ADVENTURE_ACTION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-27">
        <addForeignKeyConstraint baseColumnNames="USER_ID" baseTableName="CHARPLAYER" constraintName="FK28WJ9QXEPG9S2777OS1KRCJK6" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="REGISTEREDUSER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-28">
        <addForeignKeyConstraint baseColumnNames="ACTION_QUEUE_ID" baseTableName="CHARPLAYER_ACTION_QUEUE" constraintName="FK436Y7OOQI6HH9AN7VST0MDQTN" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="SCHEDULED_TASK" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-29">
        <addForeignKeyConstraint baseColumnNames="PLAYER_ID" baseTableName="CHARPLAYER_ACTION_QUEUE" constraintName="FK46SCWSCCMOVUJ078BE2M365VA" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="CHARPLAYER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-30">
        <addForeignKeyConstraint baseColumnNames="CHARACTER_ID" baseTableName="INVENTORY" constraintName="FK48I6J92SU1GWUCY5DWCGI7STH" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="CHARPLAYER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-31">
        <addForeignKeyConstraint baseColumnNames="TECHNIQUE_REWARDS_ID" baseTableName="ACTION_TECHNIQUE_REWARDS" constraintName="FK5MR5WTDFNKWDEI7KU4I2WBFKR" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUYABLE" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-32">
        <addForeignKeyConstraint baseColumnNames="TOOL_REWARDS_ID" baseTableName="ACTION_TOOL_REWARDS" constraintName="FK8891CTHXODYNLOVFRUMT7KTPH" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUYABLE" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-33">
        <addForeignKeyConstraint baseColumnNames="PLAYER_ID" baseTableName="SCHEDULED_TASK" constraintName="FK9MAPB6YKQBSUR2IJ92T7V3GM9" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="CHARPLAYER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-34">
        <addForeignKeyConstraint baseColumnNames="ADVENTURE_ACTION_ID" baseTableName="ACTION_TOOL_REWARDS" constraintName="FKAGQDGBRKBWV013SMEL7OGW3ME" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="ACTION" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-35">
        <addForeignKeyConstraint baseColumnNames="ACTION_ID" baseTableName="SCHEDULED_TASK" constraintName="FKBM7X8G4UDV83YN9PMKPJ3M3ST" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="ACTION" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-36">
        <addForeignKeyConstraint baseColumnNames="KNOWN_TECHNIQUES_ID" baseTableName="CHARPLAYER_KNOWN_TECHNIQUES" constraintName="FKBXBWGGEIE64UYV99QFDYCKNAD" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUYABLE" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-37">
        <addForeignKeyConstraint baseColumnNames="OPPONENT_ID" baseTableName="ACTION" constraintName="FKH4GB4O96A634E0U5NWFO33GJQ" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="CHARPLAYER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-38">
        <addForeignKeyConstraint baseColumnNames="TOOLS_KEY" baseTableName="INVENTORY" constraintName="FKIFCUT4WUP8RFOCGRTTX1BM6A4" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUYABLE" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-39">
        <addForeignKeyConstraint baseColumnNames="STATEFUL_ACTION_ID" baseTableName="SCHEDULED_TASK" constraintName="FKNF7GX6QNG2NRXM0BP1IUVGCMW" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="ACTION" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-40">
        <addForeignKeyConstraint baseColumnNames="CHARACTER_ID" baseTableName="CHARPLAYER_KNOWN_TECHNIQUES" constraintName="FKNWB7UKTQCPIXYP7J0WURTGUXY" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="CHARPLAYER" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436004499-41">
        <addForeignKeyConstraint baseColumnNames="ADVENTURE_ACTION_ID" baseTableName="ACTION_TECHNIQUE_REWARDS" constraintName="FKRMUF2OV0VK95Q9AARJYKLFSQG" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="ACTION" validate="true"/>
    </changeSet>
    <changeSet author="gyakornok (generated)" id="1596436044105-1">
        <createSequence sequenceName="HIBERNATE_SEQUENCE"/>
    </changeSet>


</databaseChangeLog>
